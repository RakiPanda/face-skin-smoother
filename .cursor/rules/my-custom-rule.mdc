---
description: 
globs: 
alwaysApply: true
---
# 要件定義書：顔画像への美肌フィルター自動加工プログラム
## 1. 背景・目的
本プログラムは、指定フォルダ内にある顔画像に対して、肌を滑らかにするフィルター（美肌処理）を6段階の強さで適用し、各強度に対応した加工画像を自動生成・保存するために作成する。ユーザーは、フィルターの効果を段階的に比較・評価できるようになる。

## 2. 主な機能
### 2.1 入力
入力画像フォルダパスを指定する（例：input_images/）。

フォルダ内にあるすべての画像ファイル（例：.jpg, .png）を対象とする。

### 2.2 処理の流れ
顔検出を行い、顔の領域を特定する。

顔領域から肌部分を検出または顔全体を対象とする（初期実装では顔全体を肌領域とみなす）。

検出した肌ブブがわかるような画像を生成し、出力する。

検出した肌領域に対して、**美肌フィルター（バイラテラルフィルター）**を6段階の強度で適用する。

フィルター適用後の画像を、それぞれ別ファイルとして保存する。

### 2.3 出力
画像ファイルごとに、以下の6段階の加工結果を出力する：

original（未加工）

smooth_level1（弱）

smooth_level2

smooth_level3

smooth_level4

smooth_level5（強）

出力先は output_images/ フォルダとし、ファイル名は元画像名 + 加工レベル名とする。


例：person1_smooth_level3.jpg

### 3 仮想環境
誰でも仮想環境でプログラムを実行できるようにする